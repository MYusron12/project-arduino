if (self.CavalryLogger) { CavalryLogger.start_js(["qHYqZ"]); }

__d("JSResourceForInteraction",["JSResource"],(function(a,b,c,d,e,f){function a(a,c){return b("JSResource").call(null,a)}e.exports=a}),null);
__d("LiveVideoUFIAnnouncement.react",["cx","FlexibleBlock.react","InlineBlock.react","JSResource","React","UFI2CometRelayCreateFragmentContainer","UFICommentLiveVideoAnnouncementImage.react","lazyLoadComponent","nullthrows","LiveVideoUFIAnnouncement_announcement.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");b("UFI2CometRelayCreateFragmentContainer").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFILiveVideoAnnouncementCTAContainer.react").__setRef("LiveVideoUFIAnnouncement.react"));c=b("React");var k=c.useMemo;h!==void 0?h:h=b("LiveVideoUFIAnnouncement_announcement.graphql");function l(a){if(a.length>=8){var b=a.replace("#","");return"#"+b.slice(2)+b.slice(0,2)}return"#"+a.replace("#","")}function a(a){var c=k(function(){var c;return{accentColor:a.announcement.accent_color!=null?l(a.announcement.accent_color):"#B2B2B2",body:a.announcement.message,broadcastSubscriptionStatus:b("nullthrows")(a.announcement.broadcast_subscription_status,"Expected a `broadcast_subscription_status`."),ctaAction:b("nullthrows")(a.announcement.cta_action,"Expected a `cta_action`."),ctaGlyphName:a.announcement.cta_glyph,ctaGlyphNameOff:a.announcement.cta_glyph_off,ctaLink:a.announcement.cta_link,ctaState:Boolean(a.announcement.cta_state),ctaTextOff:a.announcement.cta_text_off||"",ctaTextOn:a.announcement.cta_text_on||"",ftentidentifier:a.legacyFeedbackID,glyphName:b("nullthrows")(a.announcement.glyph_name,"Expected a `glyph_name`."),id:a.legacyFeedbackID+((c=a.announcement.name)!=null?c:"UNKNOWNNAME")+((c=a.announcement.level)!=null?c:"UNKNOWNLEVEL"),image:a.announcement.image,isAnnouncement:!0,isJoinEvent:!1,targetID:(c=a.announcement.target)==null?void 0:c.id}},[a.announcement,a.legacyFeedbackID]);return i.jsx(b("FlexibleBlock.react"),{className:"_7m_7",flex:b("FlexibleBlock.react").FLEX.right,left:i.jsx("div",{className:"_7m_8",children:i.jsx(b("UFICommentLiveVideoAnnouncementImage.react"),{accentColor:c.accentColor,contextArgs:null,glyphName:c.glyphName,image:c.image,isJoinEvent:!1})}),right:i.jsx("div",{children:i.jsxs("div",{className:"_7m_9",children:[i.jsx(b("InlineBlock.react"),{alignv:"middle",height:0,children:a.announcement.message}),i.jsx(i.Suspense,{fallback:i.jsx("span",{}),children:i.jsx(j,{comment:c,contextArgs:null})})]})})})}e.exports=a}),null);
__d("RelayFBResponseCache",["RelayRuntime"],(function(a,b,c,d,e,f){"use strict";a=b("RelayRuntime").QueryResponseCache;c=10;d=5*60*1e3;e.exports=new a({size:c,ttl:d})}),null);
__d("LiveVideoUFIAnnouncementFetcher",["regeneratorRuntime","ActorURIConfig","ErrorUtils","RelayFBOperationLoader","RelayFBResponseCache","RelayModern","RelayRuntime","ServerTime","SubscriptionList","clearTimeout","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","resolveImmediate","setTimeoutAcrossTransitions","stableStringify","LiveVideoUFIAnnouncementFetcherQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("RelayModern").fetchQuery;b("RelayModern").graphql;var j=b("RelayRuntime").Environment,k=b("RelayRuntime").RecordSource,l=b("RelayRuntime").Store,m=g!==void 0?g:g=b("LiveVideoUFIAnnouncementFetcherQuery.graphql"),n={};a=function(){var a=c.prototype;a.$11=function(){var a=this,c=this.$3,d=this.$2.length>0?3e4:1e4;d=c==null?0:Math.max(0,d-(Date.now()-c));d===0?this.$12():this.$5=b("setTimeoutAcrossTransitions")(function(){a.$12()},d)};a.$12=function(){var a,c,d,e,f,g,h,j,k,l,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:q.prev=0;c=this.$2;if(!(c.length>0)){q.next=6;break}a=c.shift();q.next=12;break;case 6:q.next=8;return b("regeneratorRuntime").awrap(i(this.$1,m,this.$9,{force:!0}));case 8:f=q.sent,g=(d=f.video)==null?void 0:(e=d.announcements)==null?void 0:e.edges,h=g&&g.map(function(a){a=a.node;return a}).filter(Boolean),h!=null&&h.length>0&&(a=h.shift(),(j=this.$2).push.apply(j,h));case 12:this.$3=Date.now();a&&((k=a,l=k.level,n=k.name),o=this.$6.findIndex(function(a){a=a.node;return a.level===l&&a.name===n}),o!==-1?this.$6[o].node=a:(p={node:a,time:Math.floor(b("ServerTime").getMillis()/1e3)},this.$6.push(p)),this.$8.fireCallbacks([].concat(this.$6)));this.$4===!1&&this.$11();q.next=21;break;case 17:q.prev=17,q.t0=q["catch"](0),this.$3=Date.now(),this.$4===!1&&this.$11();case 21:case"end":return q.stop()}},null,this,[[0,17]])};function c(a,c){var d=this;this.$2=[];this.$3=null;this.$4=!1;this.$5=null;this.$6=[];this.$7=null;this.$10=function(){d.$4=!1,d.$7=Date.now(),d.$11()};this.$13=function(){d.$4=!0,d.$5!=null&&(b("clearTimeout")(d.$5),d.$5=null)};var e=new k();e=new l(e,{gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:1e3*60*5});var f=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({getAdditionalData:function(){var c;return c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c},queryResponseCache:b("RelayFBResponseCache")}),b("createRelayFBSubscribeFunction")({}));this.$1=new j({configName:"LiveVideoUFIAnnouncementFetcherEnvironment",network:f,operationLoader:b("RelayFBOperationLoader"),store:e});this.$8=new(b("SubscriptionList"))(this.$10,this.$13);this.$9=c}a.subscribe=function(a){a=(h||(h=b("ErrorUtils"))).guard(a,"LiveVideoUFIAnnouncementFetcher#subscribe");this.$6.length>0&&a(this.$6);return this.$8.add(a)};c.getInstance=function(a,d){var e=b("stableStringify")([a,d]),f=n[e];f==null&&(f=new c(a,d),n[e]=f);return f};return c}();e.exports=a}),null);
__d("nodeIsInConnection",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.getLinkedRecords("edges");if(a==null){c&&c("Connection contains no edges field.");return!1}var d=!1;b=b.getDataID();if(b==null){c&&c("Search node has no ID.");return!1}for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h&&h.getLinkedRecord("node");if(i==null){c&&c("Edge at index "+a.indexOf(h)+" has no node.");continue}if(i.getDataID()===b){d=!0;break}}return d}e.exports=a}),null);
__d("UFI2LiveVideoCommentCreateSubscription",["RelayModern","RelayRuntime","displayCommentsConnectionCountUpdater","nodeIsInConnection","UFI2LiveVideoCommentCreateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("UFI2LiveVideoCommentCreateSubscription.graphql");function a(a,c,d){var e=c.input.feedback_id;return h(a,{subscription:j,variables:c,updater:function(a){var c=a.getRootField("live_video_comment_create_subscribe");if(c==null)return;c=c.getLinkedRecord("comment");if(c==null)return;var d=c.getLinkedRecord("author");if(d==null)return;d=a.get(e);if(d==null)return;d=i.getConnection(d,"LiveFeedStoryCowatchingCommentList_top_level_comments");if(d==null)return;if(b("nodeIsInConnection")(d,c))return;c=i.createEdge(a,d,c,c.getType());if(c==null)return;i.insertEdgeBefore(d,c);b("displayCommentsConnectionCountUpdater").increment({feedbackId:e,store:a})}})}e.exports={subscribe:a}}),null);
__d("UFI2LiveVideoCommentDeleteSubscription",["RelayModern","RelayRuntime","displayCommentsConnectionCountUpdater","UFI2LiveVideoCommentDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("UFI2LiveVideoCommentDeleteSubscription.graphql");function a(a,c){var d={input:{feedback_id:c}};return h(a,{subscription:j,variables:d,updater:function(a){var d=a.getRootField("comment_delete_subscribe");if(d==null)return;d=d.getValue("deleted_comment_id");if(d==null||typeof d!=="string")return;var e=a.get(c);if(e==null)return;e=i.getConnection(e,"LiveFeedStoryCowatchingCommentList_top_level_comments");if(e==null)return;i.deleteNode(e,d);b("displayCommentsConnectionCountUpdater").decrement({feedbackId:c,store:a});k(a,c,d)}})}function k(a,b,c){b=a.get(b);if(b==null)return;b=b.getLinkedRecord("latest_pinned_comment_event");if(b==null)return;var d=b.getLinkedRecord("pinned_comment");if(d==null)return;d=d.getValue("id");if(d===c){d=String(b.getValue("id"));c=a.get(d);if(c==null)return;c.setValue(null,"pinned_comment")}}e.exports={subscribe:a}}),null);
__d("UFI2LiveVideoPinnedCommentEventCreateSubscription",["RelayModern","UFI2LiveVideoPinnedCommentEventCreateSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription,i=g!==void 0?g:g=b("UFI2LiveVideoPinnedCommentEventCreateSubscription.graphql");function a(a,b,c,d){b={input:{video_id:b.video_id},feedbackID:c,useDefaultActor:d};return h(a,{subscription:i,variables:b,updater:function(a){var b=a.getRootField("pinned_comment_event_create_subscribe");if(b==null)return;b=b.getLinkedRecord("pinned_comment_event");if(b==null)return;a=a.get(c);if(a==null)return;a.setLinkedRecord(b,"latest_pinned_comment_event")}})}e.exports={subscribe:a}}),null);
__d("useUFI2AutoScroller.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");d=b("React");var h=d.useCallback,i=d.useContext,j=d.useEffect,k=d.useRef,l=d.useState,m=150,n=g.createContext({containerRef:{current:null},isAutoScrollPaused:!1,lastChildRef:{current:null},setNumChildrenSincePaused:function(){}});function a(a){var b=i(n),c=b.containerRef,d=b.isAutoScrollPaused,e=b.lastChildRef,f=b.setNumChildrenSincePaused;j(function(){if(!d){c.current!=null&&(c.current.scrollTop=c.current.scrollHeight);return}var b=g.Children.map(a,function(a){return a.key}),h=e.current;e.current=b[b.length-1];if(h!=null){var i=0;for(var j=b.length-1;j>=0;--j)if(h!==b[j])i++;else break;f(function(a){return a+i})}},[a,c,d,e,f]);return a}function c(a,b){b===void 0&&(b=m);var c=k(null),d=k(null),e=l(!1),f=e[0],i=e[1];e=l(0);var o=e[0],p=e[1];e=h(function(){if(c.current==null)return;c.current.scrollTop=c.current.scrollHeight;i(!1)},[]);var q=h(function(){if(c.current==null)return;var a=c.current.scrollHeight-(c.current.scrollTop+c.current.clientHeight)>b;f!==a&&i(a)},[f,b]);j(function(){f||(p(0),d.current=null)},[f]);a=g.jsx(n.Provider,{value:{containerRef:c,isAutoScrollPaused:f,lastChildRef:d,setNumChildrenSincePaused:p},children:a});return{childrenWithContext:a,containerRef:c,handleScroll:q,isAutoScrollPaused:f,numChildrenSincePaused:o,scrollToBottom:e}}e.exports={useAutoScrollChildren:a,useUFI2AutoScroller:c}}),null);
__d("useLiveFeedStoryVideoTimestamp",["requireCond","cr:957426"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:957426")}),null);
__d("UFI2TypingIndicator.react",["cx","fbt","requireDeferred","MercuryTypingAnimation_DEPRECATED.react","React","RelayHooks","UFI2RealtimeContainer.react","debounceAcrossTransitions","gkx","useVisibilityObserver","UFI2TypingIndicatorImpl_feedback.graphql","UFI2TypingIndicator_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");c=b("React");var l=c.useCallback,m=c.useEffect,n=c.useMemo,o=c.useState;b("RelayHooks").graphql;var p=b("RelayHooks").useFragment,q=b("RelayHooks").useRelayEnvironment,r=b("requireDeferred")("UFI2TypingSubscription"),s=15*1e3;function t(a){a=a.feedback_typers;return((a=a==null?void 0:a.other_count)!=null?a:0)>0?h._("Seseorang mengetik komentar..."):null}function u(a){a=a.feedback;var c=o({isTyping:!1,isVisible:!1,label:null}),d=c[0],e=d.label,f=d.isVisible,g=d.isTyping,h=c[1],j=p(i!==void 0?i:i=b("UFI2TypingIndicatorImpl_feedback.graphql"),a),u=q(),v=n(function(){return t(j)},[j]);m(function(){h(function(a){return babelHelpers["extends"]({},a,{isTyping:Boolean(v),label:v!=null?v:a.label})})},[v]);var w=n(function(){return b("debounceAcrossTransitions")(function(){return h(function(a){return babelHelpers["extends"]({},a,{isTyping:!1})})},s)},[]);m(function(){g===!0&&w();return function(){return w.reset()}},[w,g]);d=l(function(){var a=j.id,b=j.subscription_target_id;if(a==null||b==null)return null;var c=!1,d=function(){},e={dispose:function(){c=!0,d()}};r.onReady(function(e){if(!c){e=e.subscribe(u,a,{onNext:function(){w()}},b);d=e.dispose}});return e},[w,j,u]);c=l(function(){h(function(a){return babelHelpers["extends"]({},a,{isVisible:!1})})},[]);a=l(function(){h(function(a){return babelHelpers["extends"]({},a,{isVisible:!0})})},[]);c=b("useVisibilityObserver")({onHidden:c,onVisible:a});return k.jsx(b("UFI2RealtimeContainer.react"),{subscribe:d,children:k.jsx("div",{className:"_3bem",ref:c,children:k.jsxs("div",{className:(f?"_1kyy":"")+" _3bep"+(g===!0?" __f9":""),children:[k.jsx(b("MercuryTypingAnimation_DEPRECATED.react"),{className:"__fa"}),k.jsx("div",{className:"__fb",children:e})]})})})}function a(a){a=a.feedback;a=p(j!==void 0?j:j=b("UFI2TypingIndicator_feedback.graphql"),a);return a.is_eligible_for_real_time_updates===!1||b("gkx")("1352841")?null:k.jsx(u,{feedback:a})}e.exports=a}),null);
__d("edgeIsInConnection",["nodeIsInConnection"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c.getLinkedRecord("node");if(c==null){d&&d("Search edge has no node.");return!1}return b("nodeIsInConnection")(a,c,d)}e.exports=a}),null);
__d("useInterval",["React","clearInterval","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useEffect,h=a.useRef;e.exports=function(a,c,d){d===void 0&&(d=[]);var e=h(a);g(function(){e.current=a},[a]);var f=a!=null;g(function(){if(!f||c<=0)return;var a=b("setIntervalAcrossTransitions")(function(){var a=e.current;if(a==null)return;a()},c);return function(){return b("clearInterval")(a)}},[f,c].concat(d))}}),null);
__d("LiveFeedStoryUFIRenderer.react",["cx","fbt","invariant","BootloadedComponent.react","Bootloader","CowatchingUFIConstants","FBLogger","FeedStoryUFISummary.react","JSResource","LiveFeedStoryCowatchingCommentList.react","LiveFeedStoryLiveStreamingCommentList.react","LiveFeedStoryPinnedComment.react","React","RelayModern","RelayRuntime","RelayUFI2Environment","SiteData","SubscriptionsHandler","UFI2ActorSelector.react","UFI2Comment.react","UFI2CommentActionLink.react","UFI2CommentDisabledNotice.react","UFI2CommentsFilterFallbackWarning.react","UFI2CommentsList.react","UFI2CommentsPager.react","UFI2Composer.react","UFI2CreateCommentMutation","UFI2FeedbackCommentReactSubscription","UFI2FeedbackReactSubscription","UFI2HiddenCommentsPlaceholder.react","UFI2LazyCodedErrorDialog.react","UFI2PaginationProgressIndicator.react","UFI2PrivateReplyActionLink.react","UFI2ReactionActionLink.react","UFI2RealtimeContainer.react","UFI2RealtimeRoot.react","UFI2RepliesCollapser.react","UFI2RepliesExpander.react","UFI2ScrollHoldingContainer.react","UFI2ShareActionLink.react","UFI2SurfaceContainerContext","UFI2TypingIndicator.react","UFI2ViewOption","UFI2ViewOptionsSelector.react","UFIVideoPlayerRegistry","VideoTimestampedCommentsConnectionHandler","XUISpinner.react","createUFI2AssociateReplyWithParentComposerPlugin","createUFI2ComposerTipPlugin","createUFI2DelightsComposerPlugin","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2LiveTypingBroadcastComposerPlugin","createUFI2MediaUploadComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2SetReplyClickedComposerPlugin","createUFI2StarsComposerPlugin","createUFI2StickersComposerPlugin","cxMargin","edgeIsInConnection","getCommentCreateMutationPropertiesFromTrackingData","getViewportViewDurationPropertiesFromTrackingData","gkx","isCommentFresh","isCommentTokenOrFBID","lazyLoadComponent","logCommentViewportViewDuration","nullthrows","promiseDone","useInterval","LiveFeedStoryUFIRenderer_feedback.graphql","LiveFeedStoryUFIRenderer_group.graphql","LiveFeedStoryUFIRenderer_shareableConfig.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=b("CowatchingUFIConstants").LIVE_FEED_MAX_SHOWN_COMMENTS,n=b("React");a=b("React");var o=a.useEffect,p=a.useRef,q=a.useState;c=b("RelayModern").createFragmentContainer;var r=b("RelayModern").fetchQuery;b("RelayModern").graphql;var s=b("RelayRuntime").ConnectionHandler,t=b("SiteData").pr,u=b("BootloadedComponent.react").create(b("JSResource")("UFI2AddCommentLink.react").__setRef("LiveFeedStoryUFIRenderer.react")),v=b("BootloadedComponent.react").create(b("JSResource")("UFI2CommentingAsConstituentHeader.react").__setRef("LiveFeedStoryUFIRenderer.react")),w=b("lazyLoadComponent")(b("JSResource")("UFI2CommentEditor.react").__setRef("LiveFeedStoryUFIRenderer.react"));function x(a){return a===1}function y(a){var c=a.comment,d=a.group;a=a.streamLastViewTime;if(b("isCommentFresh")(c))return!0;if(d!=null&&a!=null){d=c.created_time;if(d!=null)return a<d}return!1}function z(a){return b("RelayUFI2Environment").forActor(a)}function A(a){var c,d=a.feedback,e=a.group,f=d.viewer_actor,g=d.mentions_datasource_js_constructor_args_json,h=f&&f.id,i=z(h);return{composerPluginProps:{initialPlugins:[d.composer_tip!=null?b("createUFI2ComposerTipPlugin")({composer_tip:d.composer_tip}):null,e?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d){var e=a.getAuxiliaryData().indexRank,f=b.getAuxiliaryData().indexRank;if(e===-1&&f!==-1)return-1;else if(e!==-1&&f===-1)return 1;else return a.getOrder()-b.getOrder()}e={bot:1,member:0,non_member:2,place:3};return e[c]-e[d]},viewProps:{bot:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.bot_title:c:c},member:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("LiveFeedStoryUFIRenderer.react")}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{},upgradedPluginResource:b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("LiveFeedStoryUFIRenderer.react")}),b("createUFI2HashtagComposerPlugin")(),b("gkx")("678369")?b("createUFI2DelightsComposerPlugin")({size:10}):null].concat(b("createUFI2EmojiComposerPlugin")({size:16}),[b("createUFI2EmoticonsComposerPlugin")({size:16}),a.feedback.can_viewer_comment_with_photo===!0&&a.feedback.can_viewer_comment_with_video===!0?b("createUFI2MediaUploadComposerPlugin")({feedback:{viewer_actor:f}}):null],a.feedback.can_viewer_comment_with_gif===!0?b("createUFI2GIFComposerPlugin")({ftentidentifier:a.feedback.id}):[],a.feedback.can_viewer_comment_with_sticker===!0?b("createUFI2StickersComposerPlugin")({environment:i,targetID:(e=d)!=null?(e=e.owning_profile)!=null?e.id:e:e}):[],d.can_viewer_comment_with_stars===!0?b("createUFI2StarsComposerPlugin")({environment:i,feedbackID:(c=d)!=null?c.id:c}):[],[b("createUFI2LiveTypingBroadcastComposerPlugin")({feedback:a.feedback,relayEnvironment:i}),b("createUFI2PrefillMentionComposerPlugin")(),b("createUFI2AssociateReplyWithParentComposerPlugin")(),b("createUFI2SetReplyClickedComposerPlugin")()]).filter(Boolean)},editingCommentID:null,maybeCodedError:null,mirroredCurrentActor:h,mirroredMentionsDataSourceJSON:g}}d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=new(b("SubscriptionsHandler"))(),d.state=A(d.props),d.$3=function(a){if(a.feedback_reaction===0)return a;var b=d.$4();if(b!=null){return babelHelpers["extends"]({},a,{time_anchor:{time:b,type:((b=d.props.feedback.associated_video)==null?void 0:b.is_live_streaming)===!0?"LIVE_VIDEO":"ON_DEMAND_VIDEO"}})}return a},d.$5=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackCommentReactSubscription").subscribe(z(d.state.mirroredCurrentActor),{top_level_feedback_id:c},d.props.useDefaultActor,a,d.context.isComet):null},d.$6=function(){var a=d.props.feedback,c=a.id;a=a.subscription_target_id;return c!=null&&a!=null?b("UFI2FeedbackReactSubscription").subscribe(z(d.state.mirroredCurrentActor),{feedback_id:c},d.props.useDefaultActor,a):null},d.$7=function(){d.$1&&d.$1.Actions.toggleList({focusComposer:!1})},d.$8=function(a){d.$1?(d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0}),a.preventDefault()):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d.props.feedbackTargetID||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")},d.$9=function(){d.$1&&d.$1.Actions.expandList({focusComposer:!0,scrollToComposer:!0})},d.$10=n.createRef(),d.$11=function(a){var c=a.actorID,e=a.clientID,f=a.commentData,g=a.entitiesByID,h=a.environment,i=a.feedLocation,j=a.feedbackSource,k=a.focusCommentID,l=a.getTrackingDataFn,m=a.topLevelFeedbackID;a=a.useDefaultActor;if(!f)return;var n=d.$4(),o=function(a,c){var d=b("VideoTimestampedCommentsConnectionHandler").getConnection(a,"LiveFeedStoryLiveStreaming_video_timestamped_comments");d!=null&&b("edgeIsInConnection")(d,c)===!1&&b("VideoTimestampedCommentsConnectionHandler").insertEdge(d,c);d=s.getConnection(a,"LiveFeedStoryCowatchingCommentList_top_level_comments");d!=null&&b("edgeIsInConnection")(d,c)===!1&&s.insertEdgeBefore(d,c)};b("UFI2CreateCommentMutation").commit({actorID:c,clientID:e,containerMapping:b("nullthrows")((c=d.context)==null?void 0:c.containerMapping),entitiesByID:g,environment:h,feedLocation:i,feedbackSource:j,focusCommentID:k,input:babelHelpers["extends"]({},f,b("getCommentCreateMutationPropertiesFromTrackingData")(l),(e={},e[((c=d.props.feedback)==null?void 0:(g=c.associated_video)==null?void 0:g.is_live_streaming)===!0?"live_video_timestamp":"vod_video_timestamp"]=n,e)),isComet:d.context.isComet,onError:d.$12,topLevelFeedbackId:m,triggerAccessibilityAlert:null,updater:o,useDefaultActor:a})},d.$13=function(){d.setState(function(a){return a.maybeCodedError==null?null:{maybeCodedError:babelHelpers["extends"]({},a.maybeCodedError,{acknowledged:!0})}})},d.$12=function(a){d.setState({maybeCodedError:{acknowledged:!1,error:a}})},d.$14=function(a){d.setState({editingCommentID:a})},d.$15=function(a){var c=a.comment;a=a.feedback;a=a==null?void 0:(a=a.associated_video)==null?void 0:a.id;if(a==null)return;var e=b("UFIVideoPlayerRegistry").findVideoPlayerControllerForElement(d.$10.current,a);if(e==null)return;var f=e.getVideoURL();if(f==null)return;d.$2.addSubscriptions(b("Bootloader").loadModules(["TahoeController","URI"],function(a,b){b=new b(f).setQueryData({comment_id:c.legacy_fbid,ref:"tahoe"});a.openFromVideoPlayer(e,b,null,null,"live_video_reply_click",e.getPlayerOrigin(),e.getPlayerSuborigin())},"LiveFeedStoryUFIRenderer.react"))},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){var c,d=b.mirroredCurrentActor;b=b.mirroredMentionsDataSourceJSON;var e=a.feedback;return((c=e)!=null?(c=c.viewer_actor)!=null?c.id:c:c)!==d||e.mentions_datasource_js_constructor_args_json!==b?A(a):null};var d=c.prototype;d.componentWillUnmount=function(){this.$2.release()};d.$4=function(){var a;a=(a=this.props.feedback)==null?void 0:(a=a.associated_video)==null?void 0:a.id;if(a==null||this.$10.current==null)return;a=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(this.$10.current,a);if(a==null)return;return Math.floor(a)};d.render=function(){var a=this,c=this.props,d=c.displayCommentsContext,e=c.feedLocation,f=c.feedback,g=c.feedbackSource,h=c.feedbackTargetID,i=c.group,j=c.focusCommentID,k=c.onActorChange,l=c.shareableConfig,m=c.streamLastViewTime,o=c.storyRenderLocation,p=c.useDefaultActor;c=this.state;var q=c.composerPluginProps,r=c.editingCommentID;c=c.maybeCodedError;var s={composerPluginProps:q,editingCommentID:r,feedLocation:e,feedback:f,feedbackSource:g,feedbackTargetID:h,focusCommentID:j,isCommentFresh:function(a){return y({comment:a,feedLocation:e,group:i,streamLastViewTime:m})},onAddCommentClick:this.$9,onCommentReply:this.$15,onCommitCommentCreate:this.$11,onEditCommentError:this.$12,setEditingCommentID:this.$14,storyRenderLocation:o,useDefaultActor:p};return n.jsxs("div",{ref:this.$10,children:[n.jsx(b("UFI2RealtimeRoot.react"),{enabled:f.is_eligible_for_real_time_updates===!0,children:n.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$5,children:n.jsx(b("UFI2CommentsList.react"),{displayCommentsContext:d,feedLocation:e,feedback:f,feedbackSource:g,focusCommentID:j,listRef:function(b){a.$1=b},useDefaultActor:p,children:function(c){var d;return n.jsxs(n.Fragment,{children:[n.jsx(b("UFI2RealtimeContainer.react"),{subscribe:a.$6,children:n.jsx(B,{feedback:f,feedbackSource:g,feedbackTargetID:h,mutationInputAugmenter:a.$3,onActorChange:k,onClickCommentsCount:a.$7,onCommentClick:a.$8,shareableConfig:l,useDefaultActor:p})}),(f==null?void 0:(d=f.associated_video)==null?void 0:d.is_live_streaming)===!0?n.jsx(E,babelHelpers["extends"]({commentsListRenderProps:c},s)):n.jsx(F,babelHelpers["extends"]({commentsListRenderProps:c},s))]})}})})}),c&&n.jsx(b("UFI2LazyCodedErrorDialog.react"),{error:c.error,onHide:this.$13,shown:c.acknowledged===!1})]})};return c}(n.Component);d.displayName="LiveFeedStoryUFIRenderer";d.contextType=b("UFI2SurfaceContainerContext");function B(a){var c=a.feedback,d=a.feedbackTargetID,e=a.feedbackSource,f=a.mutationInputAugmenter,g=a.onActorChange,h=a.onCommentClick,i=a.onClickCommentsCount,j=a.shareableConfig;a=a.useDefaultActor;i=n.jsxs(n.Fragment,{children:[n.jsx(b("FeedStoryUFISummary.react"),{feedback:c,onClickCommentsCount:i}),n.jsxs("div",{className:"_6w18",children:[c.can_see_voice_switcher===!0?n.jsx(b("UFI2ActorSelector.react"),{className:"_6w1g",feedback:c,onActorChange:g}):null,n.jsxs("div",{className:"_6w1h",children:[c.can_viewer_react===!0&&n.jsx(b("UFI2ReactionActionLink.react"),{enableAnimations:!0,feedback:c,feedbackSource:e,mutationInputAugmenter:f,useDefaultActor:a}),c.can_viewer_comment===!0&&n.jsx(b("UFI2CommentActionLink.react"),{onClick:h}),n.jsx(b("UFI2ShareActionLink.react"),{feedback:c,feedbackTargetID:d,shareableConfig:j}),n.jsx(b("UFI2PrivateReplyActionLink.react"),{feedback:c,feedbackSource:e,seeResponseLabel:!1})]})]})]});return x(e)?n.jsx(b("UFI2ScrollHoldingContainer.react"),{children:i}):i}function C(a){var c=a.enabled,d=a.element,e=a.feedback,f=a.viewOption,g=a.setViewOption,h=p(!1),i=p(null),j=e==null?void 0:(a=e.associated_video)==null?void 0:a.id,k=e==null?void 0:(a=e.viewer_actor)==null?void 0:a.id;o(function(){if(!c)return;b("promiseDone")(r(z(k),b("LiveFeedStoryLiveStreamingCommentList.react").query,{feedbackID:e==null?void 0:e.id}).then(function(a){i.current=a==null?void 0:(a=a.feedback)==null?void 0:(a=a.video_timestamped_comments)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.timestamp_in_video}))},[k,c,e]);o(function(){return function(){h.current=!0}},[f]);b("useInterval")(function(){if(h.current||j==null||d.current==null||!c)return;var a=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(d.current,j);if(a==null)return;i.current!=null&&a>i.current&&g({viewOption:"LIVE_STREAMING"})},1e3,[d,j,c])}function D(a){var c,d=a.commentsListRenderProps,e=a.composerPluginProps,f=a.feedback,g=a.onCommitCommentCreate,h=a.editingComment,j=a.setEditingComment,k=a.feedbackSource,l=a.onEditCommentError;a=a.storyRenderLocation;d.depth===0||i(0,2951);var m=d.Selectors,o=d.depth,p=d.getComposerProps,q=d.listState,r=d.viewOption,s=m.isComposerVisible({depth:o,state:q});r=b("UFI2ViewOption").isChronologicalOrder(r);m=m.getVisibleCommentsCount({depth:o,state:q});q=f==null?void 0:f.viewer_actor;c=(c=f)!=null?c.constituent_badge_banner_link:c;if(h){var t=h.id;if(t==null){b("FBLogger")("ufi2").mustfix("Editing comment ID is null, this was served from GraphQL so we should investigate why this is the case, trace value of comment { id }");return null}return n.jsx(n.Suspense,{fallback:null,children:n.jsx(w,babelHelpers["extends"]({},e,d.getCommentEditorProps(),{comment:h,commentId:t,depth:0,feedbackSource:k,onError:l,onFinishEdit:function(){return j(null)},storyRenderLocation:a}))})}d=f.can_viewer_comment===!0;return f.have_comments_been_disabled===!0||f.is_viewer_muted===!0?n.jsx(b("UFI2CommentDisabledNotice.react"),{feedback:f}):s&&d&&q!=null?n.jsxs(n.Fragment,{children:[c!=null?n.jsx(v,{bootloadPlaceholder:n.jsx("div",{className:"_3-8t",children:n.jsx(b("XUISpinner.react"),{})}),uri:c}):null,n.createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},e,p(),{actor:q,className:"_6w1l _6w1m"+(m===0?" _6w1n":"")+(!r&&m>0?" _6w1o":"")+" clearfix",commentAction:"ADD",depth:o,key:"composerForUID"+((h=q.id)!=null?h:"UNKNOWN"),onCommit:g}))]}):null}function E(a){var c=a.feedback,d=a.feedbackSource,e=a.feedLocation,f=a.storyRenderLocation,g=a.useDefaultActor,h=a.onCommentReply,i=q(null),j=i[0];i=i[1];return n.jsxs(n.Fragment,{children:[n.jsx(D,babelHelpers["extends"]({},a,{editingComment:j,setEditingComment:i})),c.id==null?null:n.jsx(b("LiveFeedStoryCowatchingCommentList.react"),{environment:b("RelayUFI2Environment").forActor((a=c.viewer_actor)==null?void 0:a.id),feedback:c,feedbackSource:d,feedLocation:e,fetchAnnouncementsForSurface:"POST",filterPinnedComment:!0,maxShownComments:m,onEdit:i,onReply:h,reverseList:!1,showPinnedComment:!0,storyRenderLocation:f,useDefaultActor:g})]})}function F(a){var c,d=a.commentsListRenderProps,e=a.composerPluginProps,f=a.editingCommentID,g=a.feedback,j=a.feedbackSource,k=a.feedbackTargetID,l=a.isCommentFresh,m=a.focusCommentID,o=a.onAddCommentClick,r=a.onCommentReply,s=a.onCommitCommentCreate,v=a.onEditCommentError,y=a.setEditingCommentID,A=a.storyRenderLocation,B=a.useDefaultActor,E=q(null),F=E[0];E=E[1];var H=d.Actions.setViewOption,I=d.Selectors,J=d.depth,K=d.getCommentEditorProps,L=d.getCommentProps,M=d.getFilterWarningPropsForOlderComments,N=d.getHiddenCommentsPlaceholderProps,O=d.getPagerPropsForNewerComments,P=d.getPagerPropsForOlderComments,Q=d.getPaginationProgressProps,R=d.getNestedCommentsListProps,S=d.listState,T=d.onCommentsListMouseEnter,aa=d.onCommentsListMouseLeave,U=d.totalCount,V=d.viewOption;J===0||i(0,2951);d=p(null);var W=A==="permalink"||A==="group_permalink";C({element:d,enabled:W&&U>5,feedback:g,setViewOption:H,viewOption:V});W=I.hasPagedInDirection({depth:J,direction:"forward",state:S});var X=b("UFI2ViewOption").isChronologicalOrder(V),Y=I.isListExpanded({depth:J,state:S}),Z=I.isListLoading({depth:J,state:S});c=(c=(c=g.unfiltered_comment_count)==null?void 0:c.total_count)!=null?c:U;U=c>0&&(g.num_localized_comment_orderings||0)>1;c=I.getVisibleCommentsCount({depth:J,state:S});if(!Y)return null;if(Y&&c===0&&Z)return n.jsx("div",{className:"_6w1i _6w1j",children:n.jsx(b("XUISpinner.react"),{className:"_6w1k",size:"large"})});Y=I.getVisibleCommentsWithHiddenCommentsCollapsed({depth:J,reverse:X,state:S});var $=(Z=g)!=null?Z.viewer_actor:Z;Z=g.can_viewer_comment===!0;Z&&!$&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",k||"UNKNOWN").mustfix("FeedStoryUFI: Cant render composer without actor");Z=n.jsx(D,babelHelpers["extends"]({},a,{editingComment:F,setEditingComment:E}));k=V==="LIVE_STREAMING";a=k?null:n.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},O(),{className:"_6w1p"}));F=k?null:n.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},P(),{className:"_6w1p"}));O=!X&&Z&&W&&!k;P=I.isPagerVisible({depth:J,direction:"forward",state:S})&&!k?n.jsx(b("UFI2PaginationProgressIndicator.react"),babelHelpers["extends"]({},Q(),{className:"_6w1p"})):null;W=n.jsxs("div",{className:"_6w1i","data-testid":void 0,onMouseEnter:T,onMouseLeave:aa,ref:d,children:[n.jsx("h6",{className:"accessible_elem",children:h._("Komentar")}),n.jsxs("div",{className:"_6w1q _77bf",children:[X?F:a,U?n.jsx("div",{className:"_6w1r",children:n.jsx(b("UFI2ViewOptionsSelector.react"),{alignh:"left",caretClassName:"_6w1t",className:"_6w1u",feedback:g,linkClassName:"_6w1v",onChange:function(a){return H({viewOption:a})},selectedViewOption:V})}):X?P:null]}),!X&&Z,n.jsx(b("LiveFeedStoryPinnedComment.react"),{environment:z($==null?void 0:$.id),feedback:g,feedbackSource:j,onEdit:E,storyRenderLocation:A,useDefaultActor:B}),V==="LIVE_STREAMING"?n.jsx(b("LiveFeedStoryLiveStreamingCommentList.react"),{environment:z($==null?void 0:$.id),feedbackSource:j,onEdit:E,onReply:r,storyRenderLocation:A,variables:{feedbackID:g.id,scale:t,useDefaultActor:B}}):c>0?n.jsx("ul",{className:"_77bg",children:Y.map(function(a,c){if(a.state==="COLLAPSED"){var d;return n.jsx("li",{children:n.jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},N(),{className:"_6w1l"+(c===0?" _77bh":""),commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((d=(d=a.comments[0])==null?void 0:d.id)!=null?d:c))}else if(a.state==="VISIBLE")return n.jsx(n.Fragment,{children:a.comments.map(function(a,d){var h=a.id,i=a.optimistic_action==null&&a.optimistic_error==null,k=L(a);d=n.jsx(b("UFI2Comment.react"),babelHelpers["extends"]({},k,{className:"_6w1l"+(d===0&&c===0?" _77bh":"")+" clearfix",feedbackSource:j,isCommentFresh:l,isHighlighted:b("isCommentTokenOrFBID")(m,a),logCommentViewportViewDuration:i?function(a,c,d){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:h,isLivePinnedComment:!1,isReply:!1,milliseconds:c,storyRenderLocation:A},b("getViewportViewDurationPropertiesFromTrackingData")(d),{visibleStartTime:a}))}:null,onEdit:function(){return y(h)},storyRenderLocation:A}));return n.jsxs("li",{children:[h===f?n.jsx(n.Suspense,{fallback:n.jsx("div",{"aria-busy":"true",className:"aero",children:d}),children:n.jsx(w,babelHelpers["extends"]({},e,K(),{comment:a,commentId:h,depth:0,feedbackSource:j,onError:v,onFinishEdit:function(){return y(null)},storyRenderLocation:A}))}):d,n.jsx(b("UFI2CommentsList.react"),babelHelpers["extends"]({},R(h),{children:function(a){return n.jsx(G,{composerPluginProps:e,currentActor:$,editingCommentID:f,feedback:g,feedbackSource:j,focusCommentID:m,isCommentFresh:l,onCommitCommentCreate:s,onEditCommentError:v,repliesListRenderProps:a,setEditingCommentID:y,storyRenderLocation:A,topLevelViewOption:V})}}))]},k.key||h)})},c);return null})}):null,V==="RANKED_THREADED"&&n.jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},M(),{className:"_6w1l"})),n.jsxs("div",{className:"_6w1q _77bi",children:[X?a:F,X?null:P]}),n.jsx(b("UFI2TypingIndicator.react"),{feedback:g}),X&&Z,O===!0&&n.jsx(u,{bootloadPlaceholder:n.jsx("div",{className:"_6w1w"}),onClick:o})]});return x(j)?n.jsx(b("UFI2ScrollHoldingContainer.react"),{children:W}):W}var G=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,c=a.composerPluginProps,d=a.currentActor,e=a.editingCommentID,f=a.feedbackSource,g=a.isCommentFresh,h=a.focusCommentID,j=a.onCommitCommentCreate,k=a.onEditCommentError,l=a.repliesListRenderProps,m=a.setEditingCommentID,o=a.storyRenderLocation;a=a.topLevelViewOption;l.depth===1||i(0,2952);var p=l.Selectors,q=l.depth,r=l.getCommentEditorProps,s=l.getCommentProps,t=l.getComposerProps,u=l.getFilterWarningPropsForOlderComments,v=l.getFilterWarningPropsForNewerComments,y=l.getHiddenCommentsPlaceholderProps,z=l.getPagerPropsForNewerComments,A=l.getPagerPropsForOlderComments,B=l.getRepliesCollapserProps,C=l.getRepliesExpanderProps,D=l.listState,E=l.onCommentsListMouseEnter;l=l.onCommentsListMouseLeave;var F=p.getVisibleCommentsWithHiddenCommentsCollapsed({depth:q,reverse:!0,state:D}),G=p.isComposerVisible({depth:q,state:D}),H=p.isListExpanded({depth:q,state:D}),I=p.isRepliesExpanderLoading({depth:q,state:D});p=p.getVisibleCommentsCount({depth:q,state:D});H=!H||I?n.jsx(b("UFI2RepliesExpander.react"),babelHelpers["extends"]({},C(),{className:"_6w1x _6w1p"})):n.jsxs(n.Fragment,{children:[n.jsx(b("UFI2RepliesCollapser.react"),babelHelpers["extends"]({},B(),{className:"_6w1y"})),n.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},A(),{className:"_6w1x _6w1p"})),a==="RANKED_THREADED"&&n.jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},u(),{className:"_6w1z clearfix",viewOption:a})),p>0?n.jsx("ul",{children:F.map(function(a,d){if(a.state==="COLLAPSED"){var i;return n.jsx("li",{children:n.jsx(b("UFI2HiddenCommentsPlaceholder.react"),babelHelpers["extends"]({},y(),{className:"_6w1l",commentIDs:a.comments.map(function(a){return a.id})}))},"hidden-"+((i=(i=a.comments[0])==null?void 0:i.id)!=null?i:d))}else if(a.state==="VISIBLE")return n.jsx(n.Fragment,{children:a.comments.map(function(a){var d=a.id,i=a.optimistic_action==null&&a.optimistic_error==null,j=s(a);i=n.jsx(b("UFI2Comment.react"),babelHelpers["extends"]({},j,{className:"_6w1z clearfix",feedbackSource:f,isCommentFresh:g,isHighlighted:b("isCommentTokenOrFBID")(h,a),logCommentViewportViewDuration:i?function(a,c,e){b("logCommentViewportViewDuration")(babelHelpers["extends"]({commentID:d,isLivePinnedComment:!1,isReply:!0,milliseconds:c,storyRenderLocation:o},b("getViewportViewDurationPropertiesFromTrackingData")(e),{visibleStartTime:a}))}:null,onEdit:function(){return m(d)},storyRenderLocation:o}));return n.jsx("li",{children:d===e?n.jsx(n.Suspense,{fallback:n.jsx("div",{"aria-busy":"true",className:"aero",children:i}),children:n.jsx(w,babelHelpers["extends"]({},c,r(),{comment:a,commentId:d,depth:1,onError:k,onFinishEdit:function(){return m(null)},storyRenderLocation:o}))}):i},j.key||d)})},d);return null})}):null,a==="RANKED_THREADED"&&n.jsx(b("UFI2CommentsFilterFallbackWarning.react"),babelHelpers["extends"]({},v(),{className:"_6w1z clearfix",viewOption:a})),n.jsx(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},z(),{className:"_6w1x _6w1p"})),G&&d!=null?n.createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},c,t(),{actor:d,className:"_6w1-",commentAction:"ADD",depth:q,key:"composerForUID"+((D=d.id)!=null?D:"UNKNOWN"),onCommit:j})):null]});H=n.jsx("div",{className:"_6w1_","data-testid":void 0,onMouseEnter:E,onMouseLeave:l,children:H});x(f)&&(H=n.jsx(b("UFI2ScrollHoldingContainer.react"),{children:H}));return H};return a}(n.Component);e.exports=c(d,{feedback:j!==void 0?j:j=b("LiveFeedStoryUFIRenderer_feedback.graphql"),group:k!==void 0?k:k=b("LiveFeedStoryUFIRenderer_group.graphql"),shareableConfig:l!==void 0?l:l=b("LiveFeedStoryUFIRenderer_shareableConfig.graphql")})}),null);
__d("useLiveFeedStoryVideoTimestampBlue",["React","UFIVideoPlayerRegistry","useInterval"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useState;c=function(a,c){var d=g(0),e=d[0],f=d[1];b("useInterval")(function(){if(a==null||c.current==null)return;var d=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerForElement(c.current,a);if(d!=null&&d.isWatchAndScroll())return;d=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(c.current,a);if(d==null)return;f(d)},1e3,[a,c]);return e};e.exports=c}),null);
__d("IdentityBadgeUtils",["cx","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){switch(a){case"tipper":case"birthday_week_tipper":case"streamer_appreciation_week_tipper":return b("gkx")("709988");case"sharer":return b("gkx")("709989");case"follower":return b("gkx")("833805");case"woodhenge_submageddon":return b("gkx")("1113070");case"original":return b("gkx")("1144561");case"top_fan":case"frequent_watcher":case"woodhenge":case"author":case"fan_funding_supporter":case"moderator":case"live_video_assigned_role":return!0;default:return!1}};a=function(a){if(a==null||a.length===0)return null;a=a.filter(function(a){a=JSON.parse(a.serialized);a=a.type;return h(a)});return a.length===0?null:a.map(function(a){var b=JSON.parse(a.serialized);b=b.type;return{type:b,badge_asset:a.badge_asset,badge_color:a.badge_color,multiple_badge_asset:a.multiple_badge_asset,multiple_badge_asset_colored:a.multiple_badge_asset_colored,text:a.text,serialized:a.serialized}})};var i=(c={},c.frequent_watcher="_7wxe",c.woodhenge="_7wxf",c.top_fan="_7wxg",c),j=function(a,b){return!1};d=function(a,b,c,d){if(!a||!Array.isArray(a.identityBadges)||a.identityBadges.length===0||!a.isunseen||d===!0||!j(b,c))return null;d=a.identityBadges.map(function(a){return a.type}).filter(function(a){return a.toString()in i});return d.length===0?null:i[d[0]]};e.exports={commentColorAnimationClass:d,fromLiveVideoCommentCreateSubscription:a,isEligibleForColorComments:j,isBadgeTypeEligible:h}}),null);
__d("IdentityBadgeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:IdentityBadgeLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:IdentityBadgeLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IdentityBadgeLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBadgeID=function(a){this.$1.badge_id=a;return this};c.setBadgeType=function(a){this.$1.badge_type=a;return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setDisplaySurface=function(a){this.$1.display_surface=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setFollowerID=function(a){this.$1.follower_id=a;return this};c.setMediaID=function(a){this.$1.media_id=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setStoryID=function(a){this.$1.story_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={badge_id:!0,badge_type:!0,comment_id:!0,display_surface:!0,event_name:!0,follower_id:!0,media_id:!0,page_id:!0,story_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("VideoCreatorTopFansBadgeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoCreatorTopFansBadgeLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoCreatorTopFansBadgeLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoCreatorTopFansBadgeLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdminID=function(a){this.$1.admin_id=a;return this};c.setBadgeDisplaySurface=function(a){this.$1.badge_display_surface=a;return this};c.setCreatorID=function(a){this.$1.creator_id=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setFanID=function(a){this.$1.fan_id=a;return this};c.setFanPrivacy=function(a){this.$1.fan_privacy=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={admin_id:!0,badge_display_surface:!0,creator_id:!0,entry_point:!0,event_name:!0,fan_id:!0,fan_privacy:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("WoodhengeClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("woodhenge_banzai_client:WoodhengeClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("woodhenge_banzai_client:WoodhengeClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("woodhenge_banzai_client:WoodhengeClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientContext=function(a){this.$1.client_context=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setCreatorPageID=function(a){this.$1.creator_page_id=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEntrypointSurface=function(a){this.$1.entrypoint_surface=a;return this};c.setEventData=function(a){this.$1.event_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setException=function(a){this.$1.exception=a;return this};c.setInorganicPromoID=function(a){this.$1.inorganic_promo_id=a;return this};c.setInterface=function(a){this.$1["interface"]=a;return this};c.setIsFollower=function(a){this.$1.is_follower=a;return this};c.setIsSupporter=function(a){this.$1.is_supporter=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setPostIDRaw=function(a){this.$1.post_id_raw=a;return this};c.setPresentationMethod=function(a){this.$1.presentation_method=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVisitationID=function(a){this.$1.visitation_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={appid:!0,appversion:!0,client_context:!0,client_userid:!0,clienttime:!0,country:!0,creator_page_id:!0,deviceid:!0,entrypoint_surface:!0,event_data:!0,exception:!0,inorganic_promo_id:!0,"interface":!0,is_follower:!0,is_supporter:!0,isemployee:!0,name:!0,post_id_raw:!0,presentation_method:!0,sessionid:!0,surface:!0,time:!0,vc:!0,visitation_id:!0,weight:!0};e.exports=a}),null);
__d("IdentityBadgeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_SUPPORTER:"ad_supporter",AUTHOR:"author",BIRTHDAY_WEEK_TIPPER:"birthday_week_tipper",CLIPPER:"clipper",COMMERCE_ADMIN:"commerce_admin",COMMERCE_CASH_ON_DELIVERY:"commerce_cash_on_delivery",COMMERCE_HIGHLY_RATED:"commerce_highly_rated",COMMERCE_ID_VERIFIED:"commerce_id_verified",COMMERCE_MODERATOR:"commerce_moderator",COMMERCE_SUPER_SELLER:"commerce_super_seller",COMMERCE_VERY_RESPONSIVE:"commerce_very_responsive",COMMERCE_WILLING_TO_SHIP:"commerce_willing_to_ship",FAN_FUNDING_SUPPORTER:"fan_funding_supporter",FAVORITE:"favorite",FOLLOWER:"follower",FREQUENT_WATCHER:"frequent_watcher",GROUPIE:"groupie",HOT_COMMENT:"hot_comment",LIVE_VIDEO_ASSIGNED_ROLE:"live_video_assigned_role",MODERATOR:"moderator",ORIGINAL:"original",SHARER:"sharer",STREAMER_APPRECIATION_WEEK_TIPPER:"streamer_appreciation_week_tipper",TIPPER:"tipper",TOP_FAN:"top_fan",VALUED_COMMENTER:"valued_commenter",WOODHENGE:"woodhenge",WOODHENGE_SUBMAGEDDON:"woodhenge_submageddon"})}),null);
__d("XIdentityBadgesInfomationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/identity_badge/information_dialog/init/",{badges:{type:"String"},comment_id:{type:"FBID"}})}),null);
__d("castToEnum",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=Object.keys(b);for(var e=0;e<d.length;e++)if(b[d[e]]===a)return b[d[e]];return c}e.exports=a}),null);
__d("UFI2CommentIdentityBadges.react",["cx","IdentityBadges.react","IdentityBadgeUtils","React","UFI2CometRelayCreateFragmentContainer","compactArray","recoverableViolation","UFI2CommentIdentityBadges_comment.graphql","UFI2CommentIdentityBadges_identityBadge.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("IdentityBadgeUtils").isBadgeTypeEligible,k=b("React");c=b("UFI2CometRelayCreateFragmentContainer").createFragmentContainer;b("UFI2CometRelayCreateFragmentContainer").graphql;function a(a){var c;a=a.comment;var d=l(a.identity_badges_web),e=a.legacy_fbid;c=(c=a.feedback)==null?void 0:c.subscription_target_id;if(e==null){b("recoverableViolation")("error rendering UFI2CommentIdentityBadges, legacy_id was failed to be retrieved from the server","fan_funding");return null}return k.jsx("div",{className:"_7w_c",children:k.jsx(b("IdentityBadges.react"),{badgeColorVariant:d.length>0?a.identity_badges_web[0].badge_color_variant:"NONE",badges:d,commentID:e,postID:c})})}a.displayName="UFI2CommentIdentityBadges";function l(a){return a==null||a.length===0?[]:b("compactArray")(a.map(function(a){var b=a.badge_asset,c=a.badge_color,d=a.multiple_badge_asset,e=a.multiple_badge_asset_colored,f=a.identity_badge_type,g=a.text;a=a.serialized;if(f==null||b==null||c==null||g==null||d==null||e==null||a==null||!j(f))return null;b={badge_asset:b,badge_color:c,multiple_badge_asset:d,multiple_badge_asset_colored:e,serialized:a,text:g,type:f};return b}))||[]}e.exports=c(a,{comment:h!==void 0?h:h=b("UFI2CommentIdentityBadges_comment.graphql"),identityBadge:i!==void 0?i:i=b("UFI2CommentIdentityBadges_identityBadge.graphql")})}),null);
__d("TimeOffset",["DateConsts"],(function(a,b,c,d,e,f){"use strict";a={timeToTimestamp:function(a){if(a<=0)return"0:00";var b=Math.floor(a/3600),c=b?b+":":"";c+=((b?"0":"")+Math.floor(a%3600/60)).slice(-2)+":";return c+("0"+a%60).slice(-2)},timestampToTime:function(a){a=a.match(/(?:(\d{1,2}):)?(?:(\d{1,2}):)?(\d{1,2})/);if(!a)return-1;var c=parseInt(a[3],10);a[1]&&!a[2]?c+=parseInt(a[1],10)*b("DateConsts").SEC_PER_MIN:a[1]&&a[2]&&(c+=parseInt(a[1],10)*b("DateConsts").SEC_PER_HOUR+parseInt(a[2],10)*b("DateConsts").SEC_PER_MIN);return c}};e.exports=a}),null);